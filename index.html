<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Decor Haven - Premium Room Decor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #4f46e5;
            --secondary: #f59e0b;
            --dark: #1e293b;
            --light: #f8fafc;
        }
        
        .product-card {
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }
        
        .cart-item {
            transition: all 0.2s ease;
        }
        
        .cart-item:hover {
            background-color: rgba(249, 250, 251, 0.5);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fadeIn {
            animation: fadeIn 0.3s ease forwards;

        }

/* Responsive tweaks for iPhones and small screens (embedded) */
:root {
    --safe-top: env(safe-area-inset-top);
    --safe-bottom: env(safe-area-inset-bottom);
}

/* Respect notch / safe-area */
body {
    padding-top: var(--safe-top);
    padding-bottom: var(--safe-bottom);
    -webkit-text-size-adjust: 100%; /* Prevent iOS font-size auto-adjust/zoom */
}

/* Make images and media fluid */
img, video {
    max-width: 100%;
    height: auto;
    display: block;
}

/* Ensure buttons and links are large enough for touch */
button, .add-to-cart, a {
    min-height: 44px;
    min-width: 44px;
}

/* Hero image: use viewport height for better scaling on phones */
section.relative > img {
    height: 60vh; /* desktop/tablet default */
}

        /* Product card images: keep a consistent aspect ratio and cover */
    .product-card {
        display: flex;
        flex-direction: column;
    }

    .product-card .p-6 {
        margin-top: auto;
    }

    .product-card img {
        aspect-ratio: 4 / 3;
        width: 100%;
        height: auto;
        object-fit: cover;
        display: block;
    }

/* Cart dropdown on small screens should be nearly full-width */
#cart-dropdown {
    right: 0;
}

/* Small screens (phones) */
@media (max-width: 480px) {
    /* reduce hero height on narrow devices */
    section.relative > img {
        height: 40vh;
    }

    /* product images: responsive aspect ratio maintained on narrow widths */
    .product-card img {
        aspect-ratio: 4 / 3;
    }

    /* stack nav items and create space for touch */
    nav .flex.items-center.space-x-4 {
        gap: 8px;
    }

    /* Make the cart dropdown full width on phones */
    #cart-dropdown {
        position: fixed;
        left: 8px;
        right: 8px;
        top: 64px;
        width: auto;
        max-width: calc(100% - 16px);
        z-index: 60;
    }

    /* Smaller typography tweaks */
    h1.text-4xl { font-size: 1.5rem; }
    h2.text-3xl { font-size: 1.25rem; }
    .text-lg { font-size: 1rem; }

    /* Improve spacing in product grid */
    .grid.grid-cols-1.sm\:grid-cols-2.lg\:grid-cols-3.gap-8 {
        grid-template-columns: 1fr;
        gap: 12px;
    }
}

/* Medium phones / larger small screens (e.g., iPhone 8 Plus, iPhone 11/12 small sizes) */
@media (min-width: 381px) and (max-width: 414px) {
    section.relative > img { height: 48vh; }
    .product-card img { aspect-ratio: 4 / 3; }
}

/* iPhone SE / very small devices */
@media (max-width: 360px) {
    section.relative > img { height: 36vh; }
    .product-card img { aspect-ratio: 4 / 3; }
    .p-6 { padding: 12px; }
}

/* Accessibility: ensure focus visible for keyboard/touch navigation */
:focus {
    outline: 3px solid rgba(79,70,229,0.2);
    outline-offset: 2px;
}

    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-xl font-bold text-indigo-600">Decor Haven</span>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="#products" class="text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium">Products</a>
                    <a href="#about" class="text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium">About Us</a>
                    <div class="relative">
                        <button id="cart-btn" class="p-2 text-gray-700 hover:text-indigo-600 resized-img">
                            <i class="fas fa-shopping-cart text-xl"></i>
                            <span id="cart-count" class="absolute -top-1 -right-1 bg-indigo-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                        </button>
                        <div id="cart-dropdown" class="hidden absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50">
                            <div class="p-4 bg-indigo-600 text-white">
                                <h3 class="font-medium">Your Cart</h3>
                            </div>
                            <div id="cart-items" class="max-h-96 overflow-y-auto p-4">
                                <p class="text-center text-gray-500 py-8">Your cart is empty</p>
                            </div>
                            <div class="p-4 border-t border-gray-200 bg-gray-50">
                                <div class="flex justify-between mb-2">
                                    <span class="text-gray-700">Subtotal:</span>
                                    <span id="cart-subtotal" class="font-medium">Kes 0.00</span>
                                </div>
                                <button id="checkout-btn" class="w-full bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 transition disabled:opacity-50" disabled>
                                    Proceed to Checkout
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="relative">
        <img src="Hero section image1.jpeg" alt="Beautiful modern living room with designer furniture, stylish decor items, and artistic wall hangings" class="w-full h-96 object-cover">
        <div class="absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900/70 to-transparent flex items-center">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="max-w-xl">
                    <h1 class="text-4xl font-bold text-white mb-4">Transform Your Space</h1>
                    <p class="text-lg text-gray-300 mb-6">High-quality house decor with free professional installation for all comrades</p>
                    <a href="#products" class="bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700 transition inline-block">Shop Now</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section id="products" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Our Featured Decor</h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">Browse our carefully curated collection of premium room decor items</p>
            </div>
            
            <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Product 1 -->
                <div class="product-card bg-white rounded-lg overflow-hidden">
                    <div class="resized-img">
                        <img src="Image1.jpeg" alt="" class="w-full h-64 object-cover">
                        <div class="absolute top-2 right-2 bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-1 rounded">
                            Best Seller
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Smart Sunset Lamp remote and app control </h3>
                        <p class="text-gray-600 mb-4">Set of three premium abstract paintings with gold leaf frames.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-gray-900">Kes 800.00</span>
                            <button class="add-to-cart" data-id="1" data-name="Smart Sunset Lamp remote and app control " data-price="800.00" data-image="Image1.jpeg">
                                Add to Cart <i class="fas fa-plus ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 2 -->
                <div class="product-card bg-white rounded-lg overflow-hidden">
                    <div class="resized-img">
                        <img src="image2.jpeg" alt="Contemporary Neon Street Light in earth tones with geometric patterns" class="w-full h-64 object-cover">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Neon Street Light</h3>
                        <p class="text-gray-600 mb-4">Sold Per 1 Meter</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-gray-900"> Kes 400</span>
                            <button class="add-to-cart" data-id="2" data-name="Neon Street Light" data-price="400.00" data-image="image2.jpeg">
                                Add to Cart <i class="fas fa-plus ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 3 -->
                <div class="product-card bg-white rounded-lg overflow-hidden">
                    <div class="resized-img">
                        <img src="image3.jpeg" alt="Luxury Wall Veins with embroidered floral patterns in various colors" class="w-full h-64 object-cover">
                        <div class="absolute top-2 right-2 bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded">
                            New Arrival
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Wall Vines</h3>
                        <p class="text-gray-600 mb-4">Sold Per Meter</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-gray-900">Kes 100.00</span>
                            <button class="add-to-cart" data-id="3" data-name="Wall Veins" data-price="100.00" data-image="image3.jpeg">
                                Add to Cart <i class="fas fa-plus ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 4 -->
                <div class="product-card bg-white rounded-lg overflow-hidden">
                    <div class="resized-img">
                        <img src="image4.jpeg" alt="Handwoven Fairy Lights with modern patterns in neutral colors" class="w-full h-64 object-cover">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Fairy Lights</h3>
                        <p class="text-gray-600 mb-4">Led Lighting Copper Wire Battery Christmas Wedding Party LED String Fairy Lights decorative light</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-gray-900">Kes 400.00</span>
                            <button class="add-to-cart" data-id="4" data-name="Fairy Lights" data-price="400.00" data-image="image4.jpeg">
                                Add to Cart <i class="fas fa-plus ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 5 -->
                <div class="product-card bg-white rounded-lg overflow-hidden">
                    <div class="resized-img">
                        <img src="image5.jpeg" alt="Magic Corner LED floor lamp with brass finishes and linen shade" class="w-full h-64 object-cover">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Magic Corner LED floor lamp</h3>
                        <p class="text-gray-600 mb-4">Stand Height 1.5m, remote control included, soft lighting</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-gray-900">Kes 1,200.00</span>
                            <button class="add-to-cart" data-id="5" data-name="Magic Corner LED floor lamp" data-price="1200.00" data-image="image5.jpeg">
                                Add to Cart <i class="fas fa-plus ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 6 -->
                <div class="product-card bg-white rounded-lg overflow-hidden">
                    <div class="resized-img">
                        <img src="image6.jpeg" alt="Minimalist wooden Nexlux LED Strip Lights Illuminates All The Dark Corners of Your Home – Suckstobebroke
 of three for wall mounting" class="w-full h-64 object-cover">
                        <div class="absolute top-2 right-2 bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded">
                            Free Install
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Nexlux LED Strip Lights Illuminates All The Dark Corners of Your Home – Suckstobebroke
</h3>
                        <p class="text-gray-600 mb-4">While overhead lights and carefully positioned lamps may provide the majority of your lighting needs at home, and also very cheap</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-gray-900">Kes 700.00</span>
                            <button class="add-to-cart" data-id="6" data-name="Nexlux LED Strip Lights Illuminates All The Dark Corners of Your Home – Suckstobebroke
" data-price="700.00" data-image="image6.jpeg">
                                Add to Cart <i class="fas fa-plus ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Product 7 -->
                <div class="product-card bg-white rounded-lg overflow-hidden">
                    <div class="resized-img">
                        <img src="image7.jpg" alt="Minimalist wooden Nexlux LED Strip Lights Illuminates All The Dark Corners of Your Home – Suckstobebroke
 of three for wall mounting" class="w-full h-64 object-cover">
                        <div class="absolute top-2 right-2 bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded">
                            Free Install
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Framed Potraits
</h3>
                        <p class="text-gray-600 mb-4">A4 framed motivational wall art. Comes ready to hang with a durable plastic frame and clear acrylic cover. High-quality print, perfect for hostel and bedsitter rooms.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-gray-900">Kes 200.00</span>
                            <button class="add-to-cart" data-id="7" data-name="Framed Potraits
" data-price="200.00" data-image="image7.jpg">
                                Add to Cart <i class="fas fa-plus ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>

                 <!-- Product 8 -->
                <div class="product-card bg-white rounded-lg overflow-hidden">
                    <div class="resized-img">
                        <img src="image10.jpg" alt="Minimalist wooden Nexlux LED Strip Lights Illuminates All The Dark Corners of Your Home – Suckstobebroke
 of three for wall mounting" class="w-full h-64 object-cover">
                        <div class="absolute top-2 right-2 bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded">
                            Free Install
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Wall cloud
</h3>
                        <p class="text-gray-600 mb-4">Aesthetic wall cloud LED light with soft ambient glow. Easy to install, USB powered, and perfect for cozy room setups and content creation.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-gray-900">Kes 1200.00</span>
                            <button class="add-to-cart" data-id="8" data-name="Wall cloud
" data-price="1200.00" data-image="image10.jpg">
                                Add to Cart <i class="fas fa-plus ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>

                 <!-- Product 9 -->
                <div class="product-card bg-white rounded-lg overflow-hidden">
                    <div class="resized-img">
                        <img src="image9.jpg" alt="Minimalist wooden Nexlux LED Strip Lights Illuminates All The Dark Corners of Your Home – Suckstobebroke
 of three for wall mounting" class="w-full h-64 object-cover">
                        <div class="absolute top-2 right-2 bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded">
                            Free Install
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Mirror Lighting
</h3>
                        <p class="text-gray-600 mb-4">Aesthetic mirror cloud LED lighting with soft ambient glow. Easy to install, USB powered, and perfect for cozy room setups and content creation.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-gray-900">Kes 800.00</span>
                            <button class="add-to-cart" data-id="9" data-name="Mirror Lighting
" data-price="800.00" data-image="image9.jpg">
                                Add to Cart <i class="fas fa-plus ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>

                 <!-- Product 10 -->
                <div class="product-card bg-white rounded-lg overflow-hidden">
                    <div class="resized-img">
                        <img src="image11.jpg" alt="Minimalist wooden Nexlux LED Strip Lights Illuminates All The Dark Corners of Your Home – Suckstobebroke
 of three for wall mounting" class="w-full h-64 object-cover">
                        <div class="absolute top-2 right-2 bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded">
                            Free Install
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Cloud Ceiling 
</h3>
                        <p class="text-gray-600 mb-4">Look up ☁️✨
This Cloud Ceiling LED turns your room into a whole vibe — cozy nights, clean aesthetics, and fire content guaranteed.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-gray-900">Kes 3,500</span>
                            <button class="add-to-cart" data-id="10" data-name="Wall cloud
" data-price="3500.00" data-image="image11.jpg">
                                Add to Cart <i class="fas fa-plus ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-16 bg-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div>
                    <img src="aboutpicture3.jpeg" alt="Professional decorator installing wall shelves in a modern home interior" class="rounded-lg shadow-lg">
                </div>
                <div>
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">About Our Service</h2>
                    <p class="text-gray-600 mb-4 leading-relaxed">
                        At Decor Haven, we believe your living space should reflect your personality and style. We carefully curate premium decor items that transform houses into homes.
                    </p>
                    <p class="text-gray-600 mb-6 leading-relaxed">
                        Every purchase includes free professional installation by our certified decor experts. We'll handle everything from measurement to placement to give your space that magazine-worthy look.
                    </p>
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <div class="flex-shrink-0 mt-1 text-indigo-600">
                                <i class="fas fa-check-circle text-xl"></i>
                            </div>
                            <p class="ml-3 text-gray-700">
                                <span class="font-medium">Premium Quality:</span> All products go through rigorous quality checks
                            </p>
                        </div>
                        <div class="flex items-start">
                            <div class="flex-shrink-0 mt-1 text-indigo-600">
                                <i class="fas fa-check-circle text-xl"></i>
                            </div>
                            <p class="ml-3 text-gray-700">
                                <span class="font-medium">Free Installation:</span> Professional installation included with every purchase
                            </p>
                        </div>
                        <div class="flex items-start">
                            <div class="flex-shrink-0 mt-1 text-indigo-600">
                                <i class="fas fa-check-circle text-xl"></i>
                            </div>
                            <p class="ml-3 text-gray-700">
                                <span class="font-medium">Satisfaction Guaranteed:</span> 30-day no questions asked return policy
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Checkout Modal -->
    <div id="checkout-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-900">Complete Your Purchase</h3>
                    <button id="close-checkout" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="text-lg font-medium text-gray-900 mb-4">Order Summary</h4>
                        <div id="checkout-items" class="space-y-4 mb-6">
                            <!-- Cart items will appear here -->
                        </div>
                        
                        <div class="border-t border-gray-200 pt-4">
                            <div class="flex justify-between mb-2">
                                <span class="text-gray-600">Subtotal:</span>
                                <span id="checkout-subtotal" class="font-medium">Kes 0.00</span>
                            </div>
                            <div class="flex justify-between mb-2">
                                <span class="text-gray-600">Installation:</span>
                                <span class="font-medium text-green-600">FREE</span>
                            </div>
                            <div class="flex justify-between text-lg font-bold mt-4 pt-4 border-t border-gray-200">
                                <span>Total:</span>
                                <span id="checkout-total" class="text-indigo-600">Kes 0.00</span>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                    <h3 class="text-2xl font-bold text-gray-900">Payment Method</h3>

                      <img src="mpesatill.png" alt="">  <h4 class="text-lg font-medium text-gray-900 mb-4"></h4>
                        

                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmation-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-lg max-w-md w-full p-8 text-center">
            <div class="mb-6 text-green-500">
                <i class="fas fa-check-circle text-6xl"></i>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 mb-4">Order Confirmed!</h3>
            <p class="text-gray-600 mb-6">
                Thank you for your purchase. You will receive a prompt to complete payments. Your order has been received and our team will contact you shortly to schedule your free installation.
            </p>
            <p class="text-gray-500 text-sm mb-6">
                Order ID: <span id="order-id" class="font-medium">DH-</span>
            </p>
            <button id="close-confirmation" class="w-full bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 transition">
                Continue Shopping
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">Decor Haven</h3>
                    <p class="text-gray-400">
                        Premium home decor with professional installation services.
                    </p>
                </div>
                <div>
                    <h4 class="text-lg font-medium mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="#products" class="text-gray-400 hover:text-white transition">Products</a></li>
                        <li><a href="#about" class="text-gray-400 hover:text-white transition">About Us</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">FAQ</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-medium mb-4">Contact</h4>
                    <ul class="space-y-2">
                        <li class="flex items-center text-gray-400">
                            <i class="fas fa-map-marker-alt mr-2"></i> Karatina University, Nyeri, Kenya
                        </li>
                        <li class="flex items-center text-gray-400">
                            <a href="https://wa.me/254736023895" target="_blank" class="hover:underline text-gray-400">+254736023895</a>
                        </li>
                        <li class="flex items-center text-gray-400">
                            <a href="mailto:karushopstore@gmail.com" class="hover:underline text-gray-400">karushopstore@gmail.com</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-medium mb-4">Connect</h4>
                    <div class="flex space-x-4">
                        <a href="https://www.instagram.com/decoh.haven/" class="text-gray-400 hover:text-white transition">
                            <i class="fab fa-facebook-f text-xl"></i>
                        </a>
                        <a href="https://www.instagram.com/decoh.haven/" class="text-gray-400 hover:text-white transition">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                        <a href="https://www.instagram.com/decoh.haven/" class="text-gray-400 hover:text-white transition">
                            <i class="fab fa-pinterest-p text-xl"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-10 pt-6 text-center text-gray-400">
                <p>&copy; Developed by devmunguti (0759070905)</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize cart
            let cart = [];
            let isCartOpen = false;
            
            // DOM Elements
            const cartBtn = document.getElementById('cart-btn');
            const cartDropdown = document.getElementById('cart-dropdown');
            const cartCount = document.getElementById('cart-count');
            const cartItems = document.getElementById('cart-items');
            const cartSubtotal = document.getElementById('cart-subtotal');
            const checkoutBtn = document.getElementById('checkout-btn');
            const checkoutModal = document.getElementById('checkout-modal');
            const closeCheckout = document.getElementById('close-checkout');
            const checkoutItems = document.getElementById('checkout-items');
            const checkoutSubtotal = document.getElementById('checkout-subtotal');
            const checkoutTotal = document.getElementById('checkout-total');
            const checkoutForm = document.getElementById('checkout-form');
            const confirmationModal = document.getElementById('confirmation-modal');
            const closeConfirmation = document.getElementById('close-confirmation');
            const orderId = document.getElementById('order-id');
            const addToCartButtons = document.querySelectorAll('.add-to-cart');

            // Sort product cards by data-price (ascending)
            function sortProductsByPrice() {
                const grid = document.getElementById('product-grid');
                if (!grid) return;
                const cards = Array.from(grid.querySelectorAll('.product-card'));
                cards.sort((a, b) => {
                    const aBtn = a.querySelector('.add-to-cart');
                    const bBtn = b.querySelector('.add-to-cart');
                    const aPrice = aBtn ? parseFloat((aBtn.getAttribute('data-price') || '0').replace(/,/g, '')) : 0;
                    const bPrice = bBtn ? parseFloat((bBtn.getAttribute('data-price') || '0').replace(/,/g, '')) : 0;
                    return aPrice - bPrice;
                });
                // Re-append in sorted order
                cards.forEach(card => grid.appendChild(card));
            }

            // Run sorting before other interactions
            sortProductsByPrice();
            
            // Toggle cart dropdown
            cartBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                isCartOpen = !isCartOpen;
                cartDropdown.classList.toggle('hidden', !isCartOpen);
                if (isCartOpen) {
                    updateCartDisplay();
                }
            });
            
            // Close cart dropdown when clicking outside
            document.addEventListener('click', function() {
                if (isCartOpen) {
                    cartDropdown.classList.add('hidden');
                    isCartOpen = false;
                }
            });
            
            // Add to cart functionality
            addToCartButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    const name = this.getAttribute('data-name');
                    const price = parseFloat(this.getAttribute('data-price'));
                    const image = this.getAttribute('data-image');
                    
                    // Check if item already in cart
                    const existingItem = cart.find(item => item.id === id);
                    
                    if (existingItem) {
                        existingItem.quantity += 1;
                    } else {
                        cart.push({
                            id,
                            name,
                            price,
                            image,
                            quantity: 1
                        });
                    }
                    
                    updateCartCount();
                    
                    // Show cart dropdown
                    if (!isCartOpen) {
                        cartDropdown.classList.remove('hidden');
                        isCartOpen = true;
                    }
                    
                    updateCartDisplay();
                    
                    // Add animation to button
                    const animation = this.animate(
                        [
                            { transform: 'scale(1)' },
                            { transform: 'scale(1.2)' },
                            { transform: 'scale(1)' }
                        ],
                        {
                            duration: 300
                        }
                    );
                    
                    animation.onfinish = () => {
                        this.style.transform = 'scale(1)';
                    };
                });
            });
            
            // Update cart count display
            function updateCartCount() {
                const count = cart.reduce((total, item) => total + item.quantity, 0);
                cartCount.textContent = count;
                checkoutBtn.disabled = count === 0;
            }
            
            // Update cart items display
            function updateCartDisplay() {
                if (cart.length === 0) {
                    cartItems.innerHTML = '<p class="text-center text-gray-500 py-8">Your cart is empty</p>';
                    cartSubtotal.textContent = 'Kes 0.00';
                    return;
                }
                
                let itemsHTML = '';
                let subtotal = 0;
                
                cart.forEach(item => {
                    subtotal += item.price * item.quantity;
                    
                    itemsHTML += `
                        <div class="cart-item flex items-start py-3 border-b border-gray-200 animate-fadeIn">
                            <div class="flex-shrink-0 mr-3">
                                <img src="${item.image}" alt="${item.name}" class="h-16 w-16 object-cover rounded">
                            </div>
                            <div class="flex-1">
                                <h4 class="text-gray-900 font-medium">${item.name}</h4>
                                <div class="flex justify-between items-center mt-1">
                                    <div class="flex items-center">
                                        <button class="decrease-quantity text-gray-500 hover:text-indigo-600 px-2" data-id="${item.id}">
                                            <i class="fas fa-minus text-xs"></i>
                                        </button>
                                        <span class="quantity mx-2">${item.quantity}</span>
                                        <button class="increase-quantity text-gray-500 hover:text-indigo-600 px-2" data-id="${item.id}">
                                            <i class="fas fa-plus text-xs"></i>
                                        </button>
                                    </div>
                                    <span class="item-price font-medium">Kes ${(item.price * item.quantity).toFixed(2)}</span>
                                </div>
                            </div>
                            <button class="remove-item ml-2 text-gray-400 hover:text-red-500" data-id="${item.id}">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    `;
                });
                
                cartItems.innerHTML = itemsHTML;
                cartSubtotal.textContent = `Kes ${subtotal.toFixed(2)}`;
                
                // Add event listeners to the new buttons
                document.querySelectorAll('.decrease-quantity').forEach(button => {
                    button.addEventListener('click', function() {
                        const id = parseInt(this.getAttribute('data-id'));
                        updateQuantity(id, -1);
                    });
                });
                
                document.querySelectorAll('.increase-quantity').forEach(button => {
                    button.addEventListener('click', function() {
                        const id = parseInt(this.getAttribute('data-id'));
                        updateQuantity(id, 1);
                    });
                });
                
                document.querySelectorAll('.remove-item').forEach(button => {
                    button.addEventListener('click', function() {
                        const id = parseInt(this.getAttribute('data-id'));
                        removeItem(id);
                    });
                });
            }
            
            // Update item quantity
            function updateQuantity(id, change) {
                const item = cart.find(item => item.id === id);
                if (!item) return;
                
                item.quantity += change;
                
                if (item.quantity <= 0) {
                    cart = cart.filter(item => item.id !== id);
                }
                
                updateCartCount();
                updateCartDisplay();
            }
            
            // Remove item from cart
            function removeItem(id) {
                cart = cart.filter(item => item.id !== id);
                updateCartCount();
                updateCartDisplay();
            }
            
            // Open checkout modal
            checkoutBtn.addEventListener('click', function() {
                checkoutModal.classList.remove('hidden');
                updateCheckoutDisplay();
            });
            
            // Close checkout modal
            closeCheckout.addEventListener('click', function() {
                checkoutModal.classList.add('hidden');
            });
            
            // Update checkout display
            function updateCheckoutDisplay() {
                if (cart.length === 0) return;
                
                let itemsHTML = '';
                let subtotal = 0;
                
                cart.forEach(item => {
                    subtotal += item.price * item.quantity;
                    
                    itemsHTML += `
                        <div class="flex justify-between items-center py-2">
                            <div class="flex items-center">
                                <img src="${item.image}" alt="${item.name}" class="h-12 w-12 object-cover rounded mr-3">
                                <div>
                                    <h4 class="text-gray-900">${item.name}</h4>
                                    <p class="text-sm text-gray-500">Qty: ${item.quantity}</p>
                                </div>
                            </div>
                            <span class="font-medium">Kes ${(item.price * item.quantity).toFixed(2)}</span>
                        </div>
                    `;
                });
                
                checkoutItems.innerHTML = itemsHTML;
                checkoutSubtotal.textContent = `Kes ${subtotal.toFixed(2)}`;
                checkoutTotal.textContent = `Kes ${subtotal.toFixed(2)}`;
            }
            
            // Handle checkout form submission
            checkoutForm.addEventListener('submit', function(e) {
                e.preventDefault();

                // Show confirmation modal (no email sending)
                const randomId = Math.floor(100000 + Math.random() * 900000);
                orderId.textContent += randomId;
                cart = [];
                updateCartCount();
                updateCartDisplay();
                checkoutModal.classList.add('hidden');
                confirmationModal.classList.remove('hidden');
            });
            
            // Close confirmation modal
            closeConfirmation.addEventListener('click', function() {
                confirmationModal.classList.add('hidden');
                orderId.textContent = 'DH-'; // Reset order ID display
            });
        });
    </script>
</body>
</html>
